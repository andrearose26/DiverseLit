(this.webpackJsonpDiverseLit=this.webpackJsonpDiverseLit||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/blogThumbnail1.4556ab06.jpg"},22:function(e,t,a){e.exports=a.p+"static/media/blogThumbnail2.fa065ac0.jpg"},23:function(e,t,a){e.exports=a.p+"static/media/blogThumbnail3.95b74f36.jpg"},41:function(e,t,a){e.exports=a(69)},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(35),r=a.n(o),s=a(6),i=a(7),c=a(9),u=a(8),m=a(10),h=a(14),b=a.n(h),p=a(12),g=a(13),d={race:{noSelect:[],black:[{isbn:9780385686150,title:"Homegoing",author:"Yaa Gyasi",otherCategories:["female"]},{isbn:9780399587689,title:"The Proposal",author:"Jasmine Guillory",otherCategories:["female"]},{isbn:9780385690324,title:"Black Leopard Red Wolf",author:"Marlon James"},{isbn:9781501168e3,title:"Heads of The Colored People",author:"Nafissa Thompson-Spires",otherCategories:["female"]},{isbn:9781443459587,title:"Washington Black",author:"Esi Edugyan",otherCategories:["female"]},{isbn:9780802128997,title:"Freshwater",author:"Akwaeke Emezi",otherCategories:["female","trans"]},{isbn:9781555977856,title:"Don't Call Us Dead: Poems",author:"Danez Smith"},{isbn:9781617755880,title:"An Unkindness of Ghosts",author:"Rivers Solomon"}],indigenous:[{isbn:9780771073038,title:"There There",author:"Tommy Orange"},{isbn:9780385691147,title:"Heart Berries",author:"Terese Marie Mailhot"},{isbn:9781443451352,title:"Birdie",author:"Tracey Lindberg"},{isbn:9780385692380,title:"A Mind Spread Out On The Ground",author:"Alicia Elliott"},{isbn:9781770414006,title:"Moon of the Crusted Snow",author:"Waubgeshig Rice"}],asian:[{isbn:9780804172707,title:"A Little Life",author:"Hanya Yanagihara"},{isbn:9780525432753,title:"The Clothing Of Books",author:"Jhumpa Lahiri"},{isbn:9780062428738,title:"Sick",author:"Porochista Khakpour"},{isbn:9780385693219,title:"The Farm",author:"Joanne Ramos"},{isbn:9780735223707,title:"Know My Name: A Memoir",author:"Chanel Miller"}],latinx:[{isbn:9780525434313,title:"Fruit of the Drunken Tree",author:"Ingrid Rojas Contreras"},{isbn:9780735217737,title:"The Line Becomes a River",author:"Francisco Cant\xfa"},{isbn:9780525511298,title:"Sabrina & Corina",author:"Kali Fajardo-Anstine"},{isbn:9780062662835,title:"With the Fire On High",author:"Elizabeth Acevedo"},{isbn:9780771094507,title:"In The Dream House: A Memoir",author:"Carmen Maria Machado"}]},gender:{noSelect:[],female:[{isbn:9780385686150,title:"Homegoing",author:"Yaa Gyasi"},{isbn:9780399587689,title:"The Proposal",author:"Jasmine Guillory"},{isbn:9781501168e3,title:"Heads of The Colored People",author:"Nafissa Thompson-Spires"},{isbn:9781443459587,title:"Washington Black",author:"Esi Edugyan"},{isbn:9780385691147,title:"Heart Berries",author:"Terese Marie Mailhot"},{isbn:9781443451352,title:"Birdie",author:"Tracey Lindberg"},{isbn:9780525434313,title:"Fruit of the Drunken Tree",author:"Ingrid Rojas Contreras"},{isbn:9780525511298,title:"Sabrina & Corina",author:"Kali Fajardo-Anstine"},{isbn:9780062662835,title:"With the Fire On High",author:"Elizabeth Acevedo"},{isbn:9780771094507,title:"In The Dream House: A Memoir",author:"Carmen Maria Machado"},{isbn:9780385692380,title:"A Mind Spread Out On The Ground",author:"Alicia Elliott"},{isbn:9780804172707,title:"A Little Life",author:"Hanya Yanagihara"},{isbn:9780525432753,title:"The Clothing Of Books",author:"Jhumpa Lahiri"},{isbn:9780062428738,title:"Sick",author:"Porochista Khakpour"},{isbn:9780385693219,title:"The Farm",author:"Joanne Ramos"},{isbn:9780735223707,title:"Know My Name: A Memoir",author:"Chanel Miller"}],nonBinary:[{isbn:9781555977856,title:"Don't Call Us Dead: Poems",author:"Danez Smith"},{isbn:9781617755880,title:"An Unkindness of Ghosts",author:"Rivers Solomon"}],trans:[{isbn:9780802128997,title:"Freshwater",author:"Akwaeke Emezi"},{isbn:9781551527208,title:"Little Fish",author:"Casey Plett"},{isbn:9780735235939,title:"I'm Afraid of Men",author:"Vivek Shraya"}]}},E=function(){return l.a.createElement("nav",{className:"fixedHeader",id:"nav"},l.a.createElement("div",{className:"wrapper"},l.a.createElement("h1",{className:"title"},l.a.createElement(p.b,{to:"/"},"Diverse Lit",l.a.createElement("span",null,"."))),l.a.createElement("ul",null,l.a.createElement(p.b,{to:"/about"},l.a.createElement("li",null,l.a.createElement("span",{className:"hover"}," About"))),l.a.createElement(p.b,{to:"/blog"},l.a.createElement("li",null,l.a.createElement("span",{className:"hover"},"Blog"))),l.a.createElement(p.b,{to:"/"},l.a.createElement("li",null,l.a.createElement("span",{className:"hover"},"Browse"))))))},f=function(){return l.a.createElement("div",{className:"hero"},l.a.createElement("div",{className:"text"}))},v={race:[{optionName:"Ethnicity",value:"noSelect"},{optionName:"Asian authors",value:"asian"},{optionName:"Black authors",value:"black"},{optionName:"Indigenous authors",value:"indigenous"},{optionName:"Latinx authors",value:"latinx"}],gender:[{optionName:"Gender",value:"noSelect"},{optionName:"Female authors",value:"female"},{optionName:"Non-binary authors",value:"nonBinary"},{optionName:"Trans authors",value:"trans"}]},k=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).HandleFilterSelectionRace=function(t){console.log("handle filter race function has run"),console.log("select:",t.target.name),console.log("category:",t.target.value),e.setState({select1:t.target.name,category1:t.target.value})},e.HandleFilterSelectionGender=function(t){console.log("handle filter gender function has run"),console.log("select:",t.target.name),console.log("category:",t.target.value),e.setState({select2:t.target.name,category2:t.target.value})},e.filterReset=function(){console.log("filter reset function has run");var t=document.getElementById("race").options,a=document.getElementById("gender").options;t.selectedIndex=0,a.selectedIndex=0,e.setState({select1:"",select2:"",category1:"",category2:""})},e.state={select1:"",select2:"",category1:"",category2:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"filter"},l.a.createElement("select",{onChange:this.HandleFilterSelectionRace,name:"race",id:"race"},v.race.map((function(e,t){return l.a.createElement("option",{className:e.value,key:t,value:e.value},e.optionName)}))),l.a.createElement("select",{onChange:this.HandleFilterSelectionGender,name:"gender",id:"gender"},v.gender.map((function(e,t){return l.a.createElement("option",{className:e.value,key:t,value:e.value},e.optionName)}))),l.a.createElement("button",{onClick:function(t){e.props.getFilteredBooksProps(t,e.state.category1,e.state.category2,e.state.select1,e.state.select2),e.filterReset()},type:"submit"},"Filter"))}}]),t}(n.Component),N=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("header",null,l.a.createElement(E,null),l.a.createElement(f,null),l.a.createElement("div",{className:"categories",id:"categories"},l.a.createElement("h2",null,"Select a category"),l.a.createElement(k,{getFilteredBooksProps:this.props.getFilteredBooksProps})))}}]),t}(n.Component),S=function(e){return l.a.createElement("div",{className:"books"},l.a.createElement("ul",null,e.bookImg.map((function(t,a){var n=e.bookTitles[a],o=e.bookAuthors[a],r=e.bookISBNs[a];return l.a.createElement("li",{id:r,key:a},l.a.createElement(p.b,{to:{pathname:"book/".concat(r),state:{bookISBN:r,bookAuthor:o,bookTitle:n}}},l.a.createElement("div",{className:"hover-button"},l.a.createElement("img",{src:t,alt:n+" by "+o,className:"bookCover"}),l.a.createElement("div",{className:"hoverInfo"},l.a.createElement("p",{className:"moreDetails"},"Book Details \u2192"))),l.a.createElement("div",{className:"bookText"},l.a.createElement("p",{className:"title"},n),l.a.createElement("p",{className:"author"},o))))}))))},T=a(38),B=function(){return l.a.createElement("div",{className:"footer"},l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"attribution"},l.a.createElement("p",null,"Created by ",l.a.createElement("a",{className:"attributionLink",href:"http://www.andrealacson.com"}," "," ","Andrea Lacson")),l.a.createElement("p",null,"Data provided by",l.a.createElement("a",{className:"attributionLink",href:"https://www.booknetcanada.ca/biblioshare"}," "," "," BNC Biblioshare"))),l.a.createElement("a",{className:"backToTop",href:"#nav"},l.a.createElement(T.a,{icon:"arrow-up"}))))},y=function(){return l.a.createElement("div",{className:"loadingScreen"},l.a.createElement("h1",null,"Grabbing book information ..."))},A=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"mainPage"},l.a.createElement(N,{getFilteredBooksProps:this.props.getFilteredBooksProps}),l.a.createElement("main",{className:"books",id:"books"},l.a.createElement("div",{className:"wrapper"},this.props.showLoadingScreenProps?l.a.createElement(y,null):null,l.a.createElement(S,{bookISBNs:this.props.bookISBNs,bookImg:this.props.bookImg,bookTitles:this.props.bookTitles,bookAuthors:this.props.bookAuthors})),l.a.createElement(B,null)))}}]),t}(n.Component),w=function(){return l.a.createElement("div",{className:"aboutPage"},l.a.createElement("header",null,l.a.createElement(E,null),l.a.createElement(f,null)),l.a.createElement("main",{className:"aboutSection"},l.a.createElement("h2",{className:"sectionTitle"},"What is Diverse Lit?"),l.a.createElement("p",null,"Diverse Lit is a pilot project created by Andrea Lacson during the Web Development Bootcamp at Juno College of Technology."),l.a.createElement("p",null,"By default, Diverse Lit is a tool that makes books by diverse authors easy to find. It is a hope that one day, most underrepresented readers will be able to find a story like theirs through this website.")),l.a.createElement(B,null))},L=a(21),I=a.n(L),P=a(22),j=a.n(P),O=a(23),C=a.n(O),F=function(){return l.a.createElement("div",{className:"blogPage"},l.a.createElement("header",null,l.a.createElement(E,null),l.a.createElement(f,null)),l.a.createElement("main",{className:"wrapper"},l.a.createElement("h1",{className:"blogTitle"},"Blog"),l.a.createElement("div",{className:"blogThumbnails"},l.a.createElement("div",{className:"blogThumbnail"},l.a.createElement("div",{className:"hover-button"},l.a.createElement("img",{src:I.a,alt:"alt text"})),l.a.createElement("div",{className:"hoverInfo"},l.a.createElement("p",{className:"moreDetails"},"Book Details \u2192")),l.a.createElement("h3",null,"Blog Post Title"),l.a.createElement("div",{className:"blogThumbnailStats"},l.a.createElement("p",null,"By: Andrea Lacson"),l.a.createElement("p",null,"September 26, 2019"))),l.a.createElement("div",{className:"blogThumbnail"},l.a.createElement("img",{src:j.a,alt:"alt text"}),l.a.createElement("h3",null,"Blog Post Title"),l.a.createElement("div",{className:"blogThumbnailStats"},l.a.createElement("p",null,"By: Andrea Lacson"),l.a.createElement("p",null,"September 26, 2019"))),l.a.createElement("div",{className:"blogThumbnail"},l.a.createElement("img",{src:C.a,alt:"alt text"}),l.a.createElement("h3",null,"Blog Post Title"),l.a.createElement("div",{className:"blogThumbnailStats"},l.a.createElement("p",null,"By: Andrea Lacson"),l.a.createElement("p",null,"September 26, 2019"))),l.a.createElement("div",{className:"blogThumbnail"},l.a.createElement("img",{src:I.a,alt:"alt text"}),l.a.createElement("h3",null,"Blog Post Title"),l.a.createElement("div",{className:"blogThumbnailStats"},l.a.createElement("p",null,"By: Andrea Lacson"),l.a.createElement("p",null,"September 26, 2019"))),l.a.createElement("div",{className:"blogThumbnail"},l.a.createElement("img",{src:j.a,alt:"alt text"}),l.a.createElement("h3",null,"Blog Post Title"),l.a.createElement("div",{className:"blogThumbnailStats"},l.a.createElement("p",null,"By: Andrea Lacson"),l.a.createElement("p",null,"September 26, 2019"))),l.a.createElement("div",{className:"blogThumbnail"},l.a.createElement("img",{src:C.a,alt:"alt text"}),l.a.createElement("h3",null,"Blog Post Title"),l.a.createElement("div",{className:"blogThumbnailStats"},l.a.createElement("p",null,"By: Andrea Lacson"),l.a.createElement("p",null,"September 26, 2019"))))),l.a.createElement(B,null))},x=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).getBookDetailsAPI=function(t){return e.setState({showBookLoadingScreen:!0}),b()({method:"GET",url:e.state.jsonAPI,responseType:"json",params:{Get:"Onix",Token:"jg9ngajqfe6vfu3d",EAN:t}}).then((function(t){var a=t.request.response.Product;console.log(a);var n=a.Title.TitleText,l=a.Contributor.PersonName,o=a.Publisher.PublisherName,r=a.MediaFile.MediaFileLink;console.log(r);var s=a.OtherText[0].Text,i=a.NumberOfPages,c=n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),u=s.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),m=o.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),h=new DOMParser,b=h.parseFromString(u,"text/html"),p=h.parseFromString(m,"text/html"),g=h.parseFromString(c,"text/html"),d=b.documentElement.innerHTML,E=p.documentElement.innerText,f=g.documentElement.innerText;e.setState({title:f,contributor:l,publisher:E,cover:r,description:d,pages:i,showBookLoadingScreen:!1,showBookInfo:!0})}))},e.state={isbn:"",jsonAPI:"https://biblioshare.ca/bncservices/JSON.ashx?",title:"",contributor:"",publisher:"",cover:"",authorBio:"",description:"",price:"",pages:"",showBookLoadingScreen:!1,showBookInfo:!1},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;e=this.props.data.match.params.isbn,this.setState({isbn:e},(function(){return t.getBookDetailsAPI(t.state.isbn)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"bookPage"},l.a.createElement("header",null,l.a.createElement(E,null)),l.a.createElement("div",{className:"bookSection"},this.state.showBookLoadingScreen?l.a.createElement(y,null):null,this.state.showBookInfo?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"productInfo"},l.a.createElement("div",{className:"text"},l.a.createElement("h1",null,this.state.title),l.a.createElement("h2",null,this.state.contributor),l.a.createElement("p",null,this.state.publisher),l.a.createElement("p",null,this.state.pages," pages"),l.a.createElement("p",null,this.state.isbn)),l.a.createElement("div",{className:"image"},l.a.createElement("img",{src:this.state.cover,alt:this.state.title+" by "+this.state.author}))),l.a.createElement("div",{className:"productExtraInfo"},l.a.createElement("h3",null,"Description"),l.a.createElement("p",{className:"description",dangerouslySetInnerHTML:{__html:this.state.description}}))):null),l.a.createElement(B,null))}}]),t}(n.Component),D=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",null,l.a.createElement(E,null)),l.a.createElement("div",{className:"notFound"},l.a.createElement("h1",null,"The page you were looking for was not found."),l.a.createElement("h2",null,"Please return to the homepage!")))},M=(a(68),a(16)),R=a(39),H=a(40);M.b.add(R.a,H.a);var G=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).getBookAPI=function(t){return e.setState({showLoadingScreen:!0}),b()({method:"GET",url:e.state.imageAPI,responseType:"json",params:{Token:"jg9ngajqfe6vfu3d",EAN:t,SAN:"",thumbnail:!1}})},e.getAllBooks=function(){var t,a,n;console.log("get all books function has run");for(var l=[],o=[],r=[],s=Object.keys(d.race),i=Object.keys(d.gender),c=0;c<s.length;c++)for(var u=d.race[s[c]],m=0;m<u.length;m++)t=u[m].isbn,a=u[m].title,n=u[m].author,l.push(t),o.push(a),r.push(n);for(var h=0;h<i.length;h++)for(var b=d.gender[i[h]],p=0;p<b.length;p++)t=b[p].isbn,a=b[p].title,n=b[p].author,l.push(t),o.push(a),r.push(n);e.setState((function(e){return{allIsbns:l,allTitles:o,allAuthors:r}}))},e.showAllBooks=function(){setTimeout((function(){var t=[],a=[];e.state.allIsbns.map((function(a){return t.push(e.getBookAPI(a))})),b.a.all(t).then((function(){for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];for(var o=n.map((function(e){return n[0]})),r=0;r<o[0].length;r++)a.push(o[0][r].request.responseURL),e.setState({imageURLs:a,showLoadingScreen:!1})}))}),250)},e.getFilteredBooks=function(t,a,n,l,o){var r=[],s=[],i=[],c=[],u=[];if("noSelect"!==a&&""!==a||"noSelect"!==n&&""!==n)if("noSelect"!==a&&""!==a||"noSelect"===n)if("noSelect"===a||"noSelect"!==n&&""!==n){if(("noSelect"!==a||""!==a)&&("noSelect"!==n||""!==n)){for(var m=0;m<d[l][a].length;m++)r.push(d[l][a][m].isbn),c.push(d[l][a][m].title),u.push(d[l][a][m].author);for(var h=0;h<d[o][n].length;h++)r.push(d[o][n][h].isbn),c.push(d[o][n][h].title),u.push(d[o][n][h].author);e.setState((function(){return{allIsbns:r,allTitles:c,allAuthors:u}})),setTimeout((function(){e.state.allIsbns.map((function(t){return s.push(e.getBookAPI(t))})),b.a.all(s).then((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];a.map((function(e){return a[0]}));for(var l=0;l<a[0].length;l++)i.push(a[0][l].request.responseURL);e.setState({imageURLs:i,showLoadingScreen:!1})}))}),100)}}else{console.log("both have something selected");for(var p=0;p<d[l][a].length;p++)r.push(d[l][a][p].isbn),c.push(d[l][a][p].title),u.push(d[l][a][p].author);e.setState((function(){return{allIsbns:r,allTitles:c,allAuthors:u}})),setTimeout((function(){e.state.allIsbns.map((function(t){return s.push(e.getBookAPI(t))})),b.a.all(s).then((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];a.map((function(e){return a[0]}));for(var l=0;l<a[0].length;l++)i.push(a[0][l].request.responseURL);e.setState({imageURLs:i,showLoadingScreen:!1})}))}),100)}else{for(var g=0;g<d[o][n].length;g++)r.push(d[o][n][g].isbn),c.push(d[o][n][g].title),u.push(d[o][n][g].author);e.setState((function(){return{allIsbns:r,allTitles:c,allAuthors:u}})),setTimeout((function(){e.state.allIsbns.map((function(t){return s.push(e.getBookAPI(t))})),b.a.all(s).then((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];a.map((function(e){return a[0]}));for(var l=0;l<a[0].length;l++)i.push(a[0][l].request.responseURL);e.setState({imageURLs:i,showLoadingScreen:!1})}))}),100)}else e.getAllBooks(),e.showAllBooks()},e.state={allBooks:d,isbn:"",allIsbns:[],allTitles:[],allAuthors:[],imageURLs:[],imageAPI:"https://www.biblioshare.org/BNCServices/BNCServices.asmx/Images?",showLoadingScreen:!1},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllBooks(),this.showAllBooks()}},{key:"render",value:function(){var e=this;return l.a.createElement(p.a,{basename:"/DiverseLit"},l.a.createElement(g.c,null,l.a.createElement(g.a,{path:"/",exact:!0,render:function(){return l.a.createElement(A,{bookISBNs:e.state.allIsbns,bookImg:e.state.imageURLs,bookTitles:e.state.allTitles,bookAuthors:e.state.allAuthors,showLoadingScreenProps:e.state.showLoadingScreen,getFilteredBooksProps:e.getFilteredBooks})}}),l.a.createElement(g.a,{path:"/about",component:w}),l.a.createElement(g.a,{path:"/blog",component:F}),l.a.createElement(g.a,{path:"/book/:isbn",render:function(t){return l.a.createElement(x,{data:t,getAllBooks:e.getAllBooks,showAllBooksProps:e.showAllBooks})}}),l.a.createElement(g.a,{path:"*",component:D})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.11dae6e2.chunk.js.map